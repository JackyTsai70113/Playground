# 最小生成樹 (Minimum Spanning Tree, MST)

## 1. 定義
最小生成樹 (MST) 是一個**加權無向圖**的子圖，滿足以下條件：

- **包含圖中的所有頂點**：最小生成樹包含原圖中的每一個頂點。
- **不包含環**：最小生成樹是一棵樹，因此它是無環的。
- **邊的權重之和最小**：最小生成樹是所有可能生成樹中，邊的權重總和最小的一個。

### 直觀解釋：
- 假設你有一個城市的圖，城市之間有不同的道路，並且每條道路有不同的建設成本（即邊的權重）。最小生成樹就是選擇一些道路，確保所有城市都能相互連通，並且所選擇的道路的建設成本最小。

## 2. MST 的主要應用
- **網絡設計**：例如在設計計算機網絡、電力網絡、管道網絡等時，最小生成樹能幫助選擇最少的連接，達到最低的成本。
- **圖像處理**：在圖像處理中，最小生成樹用來做圖像分割或其他優化問題。
- **物流與路徑規劃**：在交通、物流等領域，最小生成樹可用來規劃最短連接路徑。

## 3. 常見算法

### 3.1 Kruskal 算法
- **原理**：Kruskal 算法基於貪心策略，將所有邊按照權重排序，然後逐步選擇權重最小的邊，並確保該邊不會形成環，直到所有頂點都被連接。
- **步驟**：
  1. 將所有邊按權重升序排列。
  2. 從權重最小的邊開始，將邊添加到生成樹中，並確保不形成環。
  3. 重複步驟 2 直到選擇了 $V-1$ 條邊，構成最小生成樹。

- **時間複雜度**：排序邊的時間複雜度是 $O(E \log E)$，其中 $E$ 是邊的數量。

### 3.2 Prim 算法
- **原理**：Prim 算法是一種貪心算法，從任意一個頂點開始，選擇與已經選擇的頂點相連的最小邊，逐步將其他頂點加入最小生成樹中。
- **步驟**：
  1. 隨便選擇一個頂點作為起點。
  2. 找出與已選頂點連接的最小權重的邊，將該邊和它所連接的頂點加入生成樹。
  3. 重複步驟 2 直到所有頂點都被選擇。

- **時間複雜度**：使用最小堆實現時，時間複雜度是 $O(E \log V)$，其中 $E$ 是邊數，$V$ 是頂點數。

## 4. 比較 Kruskal 和 Prim 算法
- **Kruskal**：
  - 適用於邊數多的情況。
  - 通常實現簡單，利用並查集（Union-Find）來檢查是否形成環。
  - 算法簡潔，適用於稀疏圖。
  
- **Prim**：
  - 適用於頂點數多的情況。
  - 每次選擇與已選頂點相連的最小邊，適合用最小堆來實現。
  - 適用於密集圖，尤其是圖的邊數大於頂點數時。

## 5. 結論
最小生成樹 (MST) 是圖論中的重要概念，它可以幫助解決許多實際問題，特別是在網絡設計、交通規劃等方面。Kruskal 和 Prim 是最常見的兩種求解 MST 的算法，各有優缺點，選擇哪個算法取決於圖的具體結構（如稀疏或密集）。